import{_ as U}from"./CRWhLXmG.js";import{u as T,_ as M}from"./B9bVLpYc.js";import{_ as j}from"./B8m7qWkO.js";import{_ as z,l as F,u as J,e as $,f as W,q as H,c as o,a as t,b as w,w as O,g as k,t as u,h as p,k as Q,F as q,r as G,i as K,j as _,o as r}from"./BP8Zqz1I.js";import{u as L}from"./EIUoMLvZ.js";import"./9Frihcan.js";const X={class:"blog-page"},Y={class:"topbar"},Z={class:"topbar-actions"},ee={key:0,class:"cart-badge","aria-label":"Cart items"},te={class:"content"},ae={key:0,class:"loading-state"},ne={key:1,class:"error-state"},se={key:2,class:"blog-grid"},ie={key:0,class:"blog-image-wrapper"},oe={class:"blog-image"},re=["src","alt"],le={key:1,class:"blog-image-placeholder"},ce={class:"blog-content"},de={class:"blog-meta"},ue={class:"blog-category"},ge={class:"blog-date"},pe={key:0,class:"meta-separator"},me={key:1,class:"blog-reading-time"},ye={class:"blog-title"},he={class:"blog-excerpt"},fe={key:3,class:"empty-state"},ve={__name:"index",setup(be){F();const P=J(),C=T(),D=K(),m=$(()=>String(D.public.apiBase||"").replace(/\/$/,"")),x=_(!1),d=_(null),y=_(!0),h=_(null),V=async()=>{try{y.value=!0,h.value=null;const n=await $fetch("/blogs",{baseURL:m.value});d.value=n,y.value=!1}catch(n){h.value=n,y.value=!1}};W(()=>{V()});const R=()=>{V()},B=$(()=>d.value!==null&&d.value!==void 0?!1:y.value),I=n=>String(n).toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),f=$(()=>!d.value||!Array.isArray(d.value)?[]:d.value.filter(e=>{const i=String(e.status||"").toLowerCase();return i==="published"||i==="publish"||!i}).map(e=>({id:e.id,slug:e.slug||`blog-${e.id}`,title:e.title||"Untitled",titleSlug:I(e.title||"Untitled"),excerpt:e.metaDescription||(e.content?e.content.replace(/<[^>]*>/g,"").substring(0,150)+"...":"No description available."),image:e.featuredImageUrl||"",date:e.publishedAt?new Date(e.publishedAt):new Date(e.createdAt||Date.now()),category:e.category||"Uncategorized",readingTime:e.readingTime||null}))),N=n=>{if(!n)return"";try{return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(n))}catch{return""}},A=n=>{n.target.style.display="none";const e=n.target.closest(".blog-image-wrapper");e&&e.classList.add("has-error"),n.target.onerror=null},v=n=>{const e=String(n||"").trim();if(!e)return"";if(e.includes("localhost:9090")||e.includes("localhost:"))try{const i=new URL(e),g=i.pathname+i.search;return`${m.value}${g}`}catch{const i=e.match(/localhost:\d+(\/.*)/);return i?`${m.value}${i[1]}`:e}return e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/")?`${m.value}${e}`:e},l=D.public.siteUrl||(typeof window<"u"?window.location.origin:"");return H(()=>f.value,n=>{if(!n||n.length===0)return;const e={"@context":"https://schema.org","@type":"CollectionPage",name:"Blog - SVRVE",description:"Discover stories, tips, and insights about ceramics, craftsmanship, and design.",url:typeof window<"u"?window.location.href:`${l}/blog`,mainEntity:{"@type":"ItemList",numberOfItems:n.length,itemListElement:n.map((a,b)=>({"@type":"ListItem",position:b+1,item:{"@type":"BlogPosting","@id":typeof window<"u"?`${window.location.origin}/blog/${a.id}/${a.titleSlug}`:`${l}/blog/${a.id}/${a.titleSlug}`,headline:a.title,description:a.excerpt,image:a.image?v(a.image):void 0,datePublished:a.date?new Date(a.date).toISOString():void 0,author:{"@type":"Person",name:"Arya Tyagi"},publisher:{"@type":"Organization",name:"SVRVE",url:l}}}))}},i=n.map(a=>{const b=typeof window<"u"?`${window.location.origin}/blog/${a.id}/${a.titleSlug}`:`${l}/blog/${a.id}/${a.titleSlug}`,c={"@context":"https://schema.org","@type":"BlogPosting",headline:a.title,description:a.excerpt,url:b,datePublished:a.date?new Date(a.date).toISOString():void 0,author:{"@type":"Person",name:"Arya Tyagi"},publisher:{"@type":"Organization",name:"SVRVE",url:l,logo:{"@type":"ImageObject",url:`${l}/logo.png`}},mainEntityOfPage:{"@type":"WebPage","@id":b},articleSection:a.category||void 0,inLanguage:"en-IN"};return a.image&&(c.image=v(a.image)),Object.keys(c).forEach(E=>{c[E]===void 0&&delete c[E]}),c.publisher.logo&&!c.publisher.logo.url&&delete c.publisher.logo,c}),g={"@context":"https://schema.org","@type":"Organization",name:"SVRVE",url:l,logo:`${l}/logo.png`,sameAs:[]},S={"@context":"https://schema.org","@type":"Person",name:"Arya Tyagi"},s=[{type:"application/ld+json",children:JSON.stringify(e)},{type:"application/ld+json",children:JSON.stringify(g)},{type:"application/ld+json",children:JSON.stringify(S)}];i.forEach(a=>{s.push({type:"application/ld+json",children:JSON.stringify(a)})}),L({title:"Blog - SVRVE",meta:[{name:"description",content:"Discover stories, tips, and insights about ceramics, craftsmanship, and design."}],script:s})},{immediate:!0}),L({title:"Blog - SVRVE",meta:[{name:"description",content:"Discover stories, tips, and insights about ceramics, craftsmanship, and design."}]}),(n,e)=>{const i=U,g=M,S=j;return r(),o("div",X,[e[16]||(e[16]=t("div",{class:"top-banner"},[t("p",{class:"banner-text"},"Designed to impress, Made to use")],-1)),t("header",Y,[t("button",{class:"menu-btn",type:"button","aria-label":"Menu",onClick:e[0]||(e[0]=s=>x.value=!0)},[...e[5]||(e[5]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M3 12h18M3 6h18M3 18h18"})],-1)])]),w(i,{to:"/",class:"brand-logo"},{default:O(()=>[...e[6]||(e[6]=[t("span",{class:"logo-text"},"SVRVE",-1),t("span",{class:"logo-dot"},"•",-1)])]),_:1}),t("div",Z,[t("button",{class:"cart-btn",type:"button",onClick:e[1]||(e[1]=s=>k(P).push("/cart")),"aria-label":"Cart"},[e[7]||(e[7]=t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),t("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),t("path",{d:"M16 10a4 4 0 0 1-8 0"})],-1)),k(C).totalQty.value?(r(),o("span",ee,u(k(C).totalQty.value),1)):p("",!0)]),w(g)])]),w(S,{"is-open":x.value,onClose:e[2]||(e[2]=s=>x.value=!1)},null,8,["is-open"]),t("div",te,[e[15]||(e[15]=t("div",{class:"page-header"},[t("h1",{class:"page-title"},"Blog"),t("p",{class:"page-subtitle"},"Discover stories, tips, and insights about ceramics")],-1)),B.value?(r(),o("div",ae,[...e[8]||(e[8]=[t("div",{class:"loading-spinner"},null,-1),t("p",{class:"loading-text"},"Loading blogs...",-1)])])):h.value?(r(),o("div",ne,[e[9]||(e[9]=Q('<svg class="error-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-c5d8b3a7><circle cx="12" cy="12" r="10" data-v-c5d8b3a7></circle><line x1="12" y1="8" x2="12" y2="12" data-v-c5d8b3a7></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-c5d8b3a7></line></svg><p class="error-text" data-v-c5d8b3a7>Failed to load blogs. Please try again later.</p>',2)),t("button",{class:"retry-btn",type:"button",onClick:e[3]||(e[3]=s=>R())},"Retry")])):f.value.length>0?(r(),o("div",se,[(r(!0),o(q,null,G(f.value,s=>(r(),o("article",{key:s.id,class:"blog-card"},[w(i,{to:`/blog/${s.id}/${s.titleSlug}`,class:"blog-card-link"},{default:O(()=>[s.image&&v(s.image)?(r(),o("div",ie,[t("div",oe,[t("img",{src:v(s.image),alt:s.title,loading:"lazy",onError:e[4]||(e[4]=a=>A(a))},null,40,re)]),e[10]||(e[10]=t("div",{class:"image-overlay"},null,-1))])):(r(),o("div",le,[...e[11]||(e[11]=[t("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),t("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),t("polyline",{points:"21 15 16 10 5 21"})],-1)])])),t("div",ce,[t("div",de,[t("span",ue,u(s.category),1),e[12]||(e[12]=t("span",{class:"meta-separator"},"•",-1)),t("span",ge,u(N(s.date)),1),s.readingTime?(r(),o("span",pe,"•")):p("",!0),s.readingTime?(r(),o("span",me,u(s.readingTime)+" min read",1)):p("",!0)]),t("h2",ye,u(s.title),1),t("p",he,u(s.excerpt),1),e[13]||(e[13]=t("div",{class:"read-more-wrapper"},[t("span",{class:"read-more"},"Read Article"),t("svg",{class:"read-more-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),t("polyline",{points:"12 5 19 12 12 19"})])],-1))])]),_:2},1032,["to"])]))),128))])):p("",!0),!B.value&&!h.value&&f.value.length===0?(r(),o("div",fe,[...e[14]||(e[14]=[t("p",{class:"empty-text"},"No blog posts available yet. Check back soon!",-1)])])):p("",!0)])])}}},Ce=z(ve,[["__scopeId","data-v-c5d8b3a7"]]);export{Ce as default};
